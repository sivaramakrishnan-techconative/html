<!DOCTYPE html>
<html>

<head>
    <title>Simple Accordion</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
    <div class="accordion">
        <div class="accordion-item">
            <button class="accordion-button">Section 1</button>
            <div class="panel">
                <p>Content for Section 1...</p>
            </div>
        </div>
        <div class="accordion-item">
            <button class="accordion-button">Section 2</button>
            <div class="panel">
                <p>Content for Section 2...</p>
            </div>
        </div>
        <div class="accordion-item">
            <button class="accordion-button">Section 3</button>
            <div class="panel">
                <p>Content for Section 3...</p>
            </div>
        </div>
    </div>

    <script>
        document.querySelectorAll('.accordion-button').forEach(button => {
            button.addEventListener('click', () => {
                const panel = button.nextElementSibling;

                // Check if the clicked button is currently active
                const isButtonActive = button.classList.contains('active');

                // Close all panels
                document.querySelectorAll('.accordion-item .panel').forEach(p => {
                    p.style.maxHeight = null;
                });

                // Deactivate all buttons
                document.querySelectorAll('.accordion-button').forEach(b => {
                    b.classList.remove('active');
                });

                // If the clicked button was not already active, open its panel
                if (!isButtonActive) {
                    button.classList.add('active');
                    panel.style.maxHeight = panel.scrollHeight + "px";
                }
            });
        });

    </script>
</body>

</html>